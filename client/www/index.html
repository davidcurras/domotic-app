<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
    <title>DomoticApp</title>

    <link rel="manifest" href="manifest.json">

    <!-- un-comment this code to enable service worker
    <script>
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('service-worker.js')
          .then(() => console.log('service worker installed'))
          .catch(err => console.log('Error', err));
      }
    </script>-->

    <link href="lib/ionic/css/ionic.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">

    <!-- IF using Sass (run gulp sass first), then uncomment below and remove the CSS includes above
    <link href="css/ionic.app.css" rel="stylesheet">
    -->

    <!-- ionic/angularjs js -->
    <script src="lib/ionic/js/ionic.bundle.js"></script>
    <!-- socket.io js -->
    <script src="lib/socket.io-client/socket.io.js"></script>
    <script src="http://192.168.5.100:3111/socket.io/socket.io.js"></script>
    <script src="lib/angular-socket-io/socket.js"></script>

    <!-- cordova script (this will be a 404 during development) -->
    <script src="cordova.js"></script>

    <!-- your app's js -->
    <script src="js/app.js"></script>
    <script src="js/socket-service.js"></script>
  </head>
  <body ng-app="starter">

    <ion-pane>
      <ion-header-bar class="bar bar-dark">
        <h1 class="title">
          <i class="header-icon icon ion-home"></i>
          Domotic App
        </h1>
      </ion-header-bar>
      <ion-content ng-controller="MainCtrl">
        <div ng-if="!loaded">
          <div class="sk-cube-grid">
            <div class="sk-cube sk-cube1"></div>
            <div class="sk-cube sk-cube2"></div>
            <div class="sk-cube sk-cube3"></div>
            <div class="sk-cube sk-cube4"></div>
            <div class="sk-cube sk-cube5"></div>
            <div class="sk-cube sk-cube6"></div>
            <div class="sk-cube sk-cube7"></div>
            <div class="sk-cube sk-cube8"></div>
            <div class="sk-cube sk-cube9"></div>
          </div>
        </div>
        <div ng-if="loaded">
          <ul class="list card">
            <li class="item item-icon-left">
              <i class="icon ion-ios-rainy"></i> Humedad de Ambiente:
              <span class="badge badge-dark">{{state.humidity}}</span>
            </li>
            <li class="item item-icon-left">
              <i class="icon ion-thermometer"></i> Temperatura:
              <span class="badge badge-dark">{{state.temperature}}</span>
            </li>
            <li class="item item-icon-left">
              <i class="icon ion-waterdrop"></i> Humedad del Suelo:
              <span class="badge badge-dark">{{state.groundHumidity}}</span>
            </li>
            <li class="item item-icon-left">
              <i class="icon ion-ios-cloud"></i> Gas:
              <span class="badge badge-dark">{{state.gas}}</span>
            </li>
            <li class="item item-icon-left">
              <i class="icon ion-flame"></i> Fuego:
              <span class="badge badge-dark">{{state.fire ? 'Si':'No'}}</span>
            </li>
          </ul>
          <ul class="list card">
            <li class="item item-toggle item-icon-left">
              <i class="icon ion-ios-snowy"></i> Ventilador
              <label class="toggle toggle-dark">
                <input type="checkbox" ng-model="state.fan" ng-change="changeState('fan', state.fan)" />
                <div class="track">
                  <div class="handle"></div>
                </div>
              </label>
            </li>
            <li class="item item-toggle item-icon-left">
              <i class="icon ion-ios-flame-outline"></i> Alarma de Incendio
              <label class="toggle toggle-dark">
                <input type="checkbox" ng-model="state.fireAlarm" ng-change="changeState('fireAlarm', state.fireAlarm)" />
                <div class="track">
                  <div class="handle"></div>
                </div>
              </label>
            </li>
            <li class="item item-toggle item-icon-left">
              <i class="icon ion-ios-rainy-outline"></i> Riego
              <label class="toggle toggle-dark">
                <input type="checkbox" ng-model="state.irrigation" ng-change="changeState('irrigation', state.irrigation)" />
                <div class="track">
                  <div class="handle"></div>
                </div>
              </label>
            </li>
            <li class="item item-toggle item-icon-left">
              <i class="icon ion-ios-lightbulb"></i> Luz 2
              <label class="toggle toggle-dark">
                <input type="checkbox" ng-model="state.led2" ng-change="changeState('led2', state.led2)" />
                <div class="track">
                  <div class="handle"></div>
                </div>
              </label>
            </li>
            <li class="item item-toggle item-icon-left">
              <i class="icon ion-ios-lightbulb"></i> Luz 5
              <label class="toggle toggle-dark">
                <input type="checkbox" ng-model="state.led5" ng-change="changeState('led5', state.led5)" />
                <div class="track">
                  <div class="handle"></div>
                </div>
              </label>
            </li>
            <li class="item item-toggle item-icon-left">
              <i class="icon ion-ios-lightbulb"></i> Luz 6
              <label class="toggle toggle-dark">
                <input type="checkbox" ng-model="state.led6" ng-change="changeState('led6', state.led6)" />
                <div class="track">
                  <div class="handle"></div>
                </div>
              </label>
            </li>
            <li class="item item-toggle item-icon-left">
              <i class="icon ion-ios-lightbulb"></i> Luz 8
              <label class="toggle toggle-dark">
                <input type="checkbox" ng-model="state.led8" ng-change="changeState('led8', state.led8)" />
                <div class="track">
                  <div class="handle"></div>
                </div>
              </label>
            </li>
            <li class="item item-toggle item-icon-left">
              <i class="icon ion-ios-lightbulb"></i> Luz 9
              <label class="toggle toggle-dark">
                <input type="checkbox" ng-model="state.led9" ng-change="changeState('led9', state.led9)" />
                <div class="track">
                  <div class="handle"></div>
                </div>
              </label>
            </li>
          </div>
        </div>
      </ion-content>
    </ion-pane>
  </body>
</html>
